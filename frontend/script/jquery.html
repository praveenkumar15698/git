<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Numbered Items with Live Input</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      color: #333;
      margin: 40px;
    }

    h2, h3 {
      margin-bottom: 10px;
      color: #444;
    }

    .temp {
      background-color: #ddd;
      padding: 20px;
      border-radius: 6px;
      margin-bottom: 25px;
      transition: background-color 0.3s ease;
    }

    #myInput {
      padding: 10px 12px;
      width: 280px;
      font-size: 16px;
      border-radius: 4px;
      border: 1px solid #aaa;
      background-color: #fff;
      color: #333;
      margin-bottom: 15px;
      transition: border-color 0.3s ease;
    }

    #myInput:focus {
      border-color: #666;
      outline: none;
    }

    #output {
      font-weight: 600;
      font-size: 18px;
      margin-bottom: 20px;
      min-height: 24px;
      color: #555;
    }

    #list {
      list-style: none;
      padding-left: 0;
      max-width: 320px;
      margin-bottom: 25px;
    }

    #list li {
      padding: 10px 15px;
      background-color: #eee;
      margin-bottom: 8px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #list li:hover {
      background-color: #ccc;
    }

    #list li.selected {
      background-color: #bbb;
      font-weight: 700;
    }

    button {
      background-color: #888;
      border: none;
      border-radius: 6px;
      padding: 8px 15px;
      font-size: 14px;
      font-weight: 600;
      color: #fff;
      cursor: pointer;
      margin: 5px 7px 12px 0;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #666;
    }

    button:active {
      background-color: #444;
    }
  </style>
</head>
<body>
  <h2>Hello jQuery</h2>
  <h3>just for timepass</h3>
  <button id="btn">Click Me</button>
  
  <div class="temp">
    <p>this is a different division
      on which we are using the class tags using jquery
    </p>
  </div>
  
  <input type="text" id="myInput" placeholder="Type something...">
  <p id="output">Hi this text</p>
  
  <ul id="list">
    <!-- Items will be added here -->
  </ul>
  
  <button id="add">Add Item</button>
  <button id="addf">Add Item First</button>
  <button id="remove">Remove First</button>
  <button id="removeLast">Remove Last</button>
  <button id="update">Update Selected</button>

  <script>
    $(document).ready(function() {
      // Initialize list with 3 items
      function addInitialItems(n) {
        for(let i=1; i<=n; i++) {
          $("#list").append(`<li>Item ${i}</li>`);
        }
      }

      addInitialItems(3);

      // Helper: Renumber all items except last
      function renumberItems() {
        let items = $("#list li");
        let typedVal = $("#myInput").val().trim();
        let lastIndex = items.length - 1;

        items.each(function(i) {
          if(i === lastIndex) {
            // Last item: show typedVal or default name
            if(typedVal === "") {
              $(this).text(`Item ${i+1}`);
            } else {
              $(this).text(typedVal);
            }
          } else {
            $(this).text(`Item ${i+1}`);
          }
        });
      }

      // When user types, update last item text
      $("#myInput").on('input', function() {
        let val = $(this).val().trim();
        let items = $("#list li");
        if(items.length === 0) {
          // If no items, add one
          $("#list").append(`<li>${val === "" ? "Item 1" : val}</li>`);
        } else {
          // Update last item text live
          if(val === "") {
            $("#list li:last").text(`Item ${items.length}`);
          } else {
            $("#list li:last").text(val);
          }
        }
        $("#output").text(val);
      });

      // Add new item at end with default label
      $("#add").click(function() {
        $("#list").append(`<li>Item ${$("#list li").length + 1}</li>`);
        renumberItems();
      });

      // Add new item at start with default label
      $("#addf").click(function() {
        $("#list").prepend(`<li>Item 1</li>`);
        renumberItems();
      });

      // Remove first item
      $("#remove").click(function() {
        $("#list li:first").remove();
        renumberItems();
      });

      // Remove last item
      $("#removeLast").click(function() {
        $("#list li:last").remove();
        renumberItems();
      });

      // Update selected item with input value (except last which is live input)
      $("#update").click(function() {
        const val = $("#myInput").val().trim();
        if(val === "") {
          alert("Input cannot be empty.");
          return;
        }
        let selected = $("#list li.selected");
        if(selected.length === 0) {
          alert("Select an item to update.");
          return;
        }
        if(selected.is("#list li:last")) {
          alert("Cannot update the live typing item.");
          return;
        }
        selected.text(val);
        renumberItems();
        $("#output").text("Updated item to: " + val);
      });

      // Click on list item to select it (except live typing last item)
      $("#list").on("click", "li", function() {
        if($(this).is("#list li:last")) return; // can't select live typing item
        $("#list li").removeClass("selected");
        $(this).addClass("selected");
        $("#myInput").val($(this).text());
        $("#output").text($(this).text());
      });

      // Initial renumber on page load
      renumberItems();

    });
  </script>
</body>
</html>
